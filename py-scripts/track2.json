{% set index_count = 300 %}
{
  "version": 2,
  "description": "Desc of a track.",
  "indices": [
    {% set comma = joiner() %}
    {% for item in range(index_count) %}
    {{ comma() }}
    {
      "name": "nasa-{{ '{:03d}'.format(item) }}",
      "body": "index.json"
    }
    {% endfor %}
  ],
  "corpora": [
    {
      "name": "nasa-logs-small",
      "documents": [
        {
          "source-file": "data-nasa-logs-10all.json",
          "document-count": 1891714,
          "includes-action-and-meta-data": true,
          "types": ["docs"]
        }
      ]
    }
  ],
  "schedule": [
    {
      "operation": {
        "operation-type": "delete-index"
      }
    },
    {
      "operation": {
        "operation-type": "create-index"
      }
    },
    {
      "operation": {
        "operation-type": "cluster-health",
        "request-params": {
          "wait_for_status": "green"
        }
      }
    },
    {
      "operation":{
        "operation-type": "bulk",
        "bulk-size": 1000
      },
      "warmup-time-period": 120
    }
  ]
}
